```{r setup, echo=FALSE, results='hide', warning=FALSE, error=FALSE, message=FALSE, cache=FALSE}
library(knitr)
opts_chunk$set(
  cache = TRUE,
  autodep = TRUE,
  echo = FALSE,
  warning = FALSE,
  error = FALSE,
  message = FALSE,
  fig.width = 12,
  fig.height = 8,
  dpi = 144,
  cache.path = "cache/ggrepel/",
  fig.path = "figures/ggrepel/",
  concordance = TRUE
)
```

# ggrepel

## geom_text

If we plot the data from `mtcars` with `geom_text`, some of the text labels
overlap each other:

```{r geom_text, echo=TRUE}
library(ggplot2)
ggplot(mtcars) +
  geom_point(aes(wt, mpg), color = 'red') +
  geom_text(aes(wt, mpg, label = rownames(mtcars))) +
  theme_classic(base_size = 16)
```

## geom_text_repel

We can repel the text labels away from each other by loading `ggrepel` and
using `geom_text_repel` instead:

```{r geom_text_repel, echo=TRUE}
library(ggrepel)
ggplot(mtcars) +
  geom_point(aes(wt, mpg), color = 'red') +
  geom_text_repel(aes(wt, mpg, label = rownames(mtcars))) +
  theme_classic(base_size = 16)
```

### Options

We can adjust all the options available for `geom_text` such as `size` and
`fontface`. We can also change the line segment color, the padding surrounding
each text label, the force of repulsion between overlapping text labels, and
the maximum number of iterations to attempt to resolve the overlap.

```{r geom_text_repel_options, echo=TRUE}
ggplot(mtcars) +
  geom_point(aes(wt, mpg), color = 'red') +
  geom_text_repel(
    aes(wt, mpg, label = rownames(mtcars)),
    size = 5,
    fontface = 'bold',
    segment.color = 'red',
    label.padding = unit(0.5, "lines"),
    force = 2,
    max.iter = 1e4
  ) +
  theme_classic(base_size = 16)
```
